<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DEBUG</title>
    <style>
      .full-screen {
        position: fixed;
        inset: 0;
      }
    </style>
  </head>
  <body>
    <canvas id="snakes" class="full-screen"></canvas>
    <button style="position: absolute; inset: 1rem auto auto 1rem" id="pauseBtn">Pause</button>
  </body>
  <script>
    const exports = {};
  </script>
  <script>
    window.addEventListener("load", async () => {
      const htmlElement = document.getElementById("snakes");

      /** @type {import('src/SnakeBackground/GridOptions').GridOptions} */
      const gridOptions = {
        rectHeight: 10,
        rectWidth: 10,
        gridSpacing: 1,
        snakeSpeedMs: 1000 / 25,
        maxSnakes: 3,
        snakeStartingLength: 15,
        snakeSpawnChance: 40,
        appleSpawnChance: 5,
        maxApples: 20,
      };

      if (htmlElement instanceof HTMLCanvasElement) {
        const { Grid } = await import("./components/SnakeBackground/Grid.js");

        const grid = new Grid(htmlElement, gridOptions);

        grid.init();

        document.getElementById('pauseBtn')?.addEventListener('click', () => {
          grid.togglePause()
        });
      }
    });
  </script>
</html>

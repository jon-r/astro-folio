<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DEBUG</title>
    <style>
      .full-screen {
        position: fixed;
        inset: 0;
      }
    </style>
  </head>
  <body>
    <canvas id="snakes" class="full-screen"></canvas>
    <button style="position: absolute; inset: 1rem auto auto 1rem" id="pauseBtn">Pause</button>
  </body>
  <script>
    const exports = {};
  </script>
  <script>
    window.addEventListener("load", async () => {
      const htmlElement = document.getElementById("snakes");

      /** @type {import('src/SnakeBackground/types/config').GridConfig} */
      const config = {
        debug: {
          shouldLog: true,
        },
        grid: {
          size: 10,
          spacing: 1,
        },
        snakes: {
          speedMs: 1000 / 25,
          max: 5,
          startingLength: 15,
          spawnChance: 40,
        },
        apples: {
          max: 20,
          spawnChance: 5,
        },
      };

      if (htmlElement instanceof HTMLCanvasElement) {
        const { Grid } = await import("./components/SnakeBackground/Grid.js");

        const grid = new Grid(htmlElement, {config});

        grid.init();

        document.getElementById('pauseBtn')?.addEventListener('click', () => {
          grid.togglePause()
        });
      }
    });
  </script>
</html>
